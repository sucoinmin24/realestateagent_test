
ì§€ê¸ˆ realtor_image_based_htmlì—ëŠ” 2024, 2025 1ì°¨ 1êµì‹œ ë¬¸ì œë“¤ì— ëŒ€í•´ì„œ ì¶œë ¥ë˜ë„ë¡ ì‘ì„±ì´ ë˜ì–´ìˆì–´.
ê·¸ëŸ°ë° í•´ì„¤ì€ ë¹ˆì¹¸ìœ¼ë¡œ ì‘ì„±í•´ë†¨ëŠ”ë°, 2025ë…„ë„ì˜ 1ì°¨ 1êµì‹œ ë¬¸ì œë“¤ì— ëŒ€í•´ì„œ explanationì„ ë„ˆê°€ ì‘ì„±í•´ì¤„ ìˆ˜ ìˆì„ê¹Œ?
í† í°ì„ ë§ì´ ì‚¬ìš©í• ê±°ê°™ìœ¼ë©´ ìˆ˜í–‰í•˜ê¸°ì „ì— ë¯¸ë¦¬ ë‚˜í•œí…Œ ë§í•´ì£¼ê³  ìˆ˜í–‰í•˜ì§€ë§ì•„ì¤˜.

2ì›” 22ì¼
Let me first look at the HTML file to understand its structure and how explanations are formatted.


ëª…ë ¹ 3ê°œ ì‹¤í–‰í•¨
ëª…ë ¹ 3ê°œ ì‹¤í–‰í•¨
HTML íŒŒì¼ì´ ì—…ë¡œë“œ ë””ë ‰í† ë¦¬ì—ì„œ ì°¾ì„ ìˆ˜ ì—†ë„¤ìš”. íŒŒì¼ì´ ì œëŒ€ë¡œ ì—…ë¡œë“œë˜ì§€ ì•Šì€ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

ê·¸ë¦¬ê³  ì†”ì§í•˜ê²Œ ë§ì”€ë“œë¦¬ë©´, ì´ ì‘ì—…ì€ í† í°ì„ ë§¤ìš° ë§ì´ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤. ì´ìœ ëŠ”:

2025ë…„ 1ì°¨ 1êµì‹œëŠ” 80ë¬¸ì œ (ë¶€ë™ì‚°í•™ê°œë¡  40ë¬¸ì œ + ë¯¼ë²• ë° ë¯¼ì‚¬íŠ¹ë³„ë²• 40ë¬¸ì œ)
ê° ë¬¸ì œë§ˆë‹¤ í•´ì„¤ì„ ì‘ì„±í•˜ë ¤ë©´ ë¬¸ì œë‹¹ ìµœì†Œ 3-5ì¤„ì˜ í•´ì„¤ì´ í•„ìš”
HTML íŒŒì¼ ìì²´ë„ ë§¤ìš° í´ ê²ƒì´ê³ , ê·¸ ì•ˆì—ì„œ 2025ë…„ ë¬¸ì œë“¤ì˜ explanation í•„ë“œë¥¼ ì°¾ì•„ 80ê°œ ëª¨ë‘ ì±„ì›Œì•¼ í•¨
ì´ ì˜ˆìƒ í† í°: ì¶œë ¥ë§Œ ìˆ˜ë§Œ í† í° (HTML íŒŒì¼ ì½ê¸° + 80ê°œ í•´ì„¤ ì‘ì„± + íŒŒì¼ ìˆ˜ì •)
ì–´ë–»ê²Œ ì§„í–‰í• ê¹Œìš”?

HTML íŒŒì¼ì„ ë‹¤ì‹œ ì—…ë¡œë“œí•´ì£¼ì‹œë©´, êµ¬ì¡°ë¥¼ í™•ì¸í•œ í›„ 10ë¬¸ì œì”© ë‚˜ëˆ ì„œ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
ë˜ëŠ” íŠ¹ì • ê³¼ëª©(ë¶€ë™ì‚°í•™ê°œë¡  or ë¯¼ë²•)ë§Œ ë¨¼ì € í•˜ëŠ” ê²ƒë„ ë°©ë²•ì…ë‹ˆë‹¤
HTML íŒŒì¼ì„ ë‹¤ì‹œ ì—…ë¡œë“œí•´ì£¼ì‹œë©´ ë°”ë¡œ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤. í˜„ì¬ íŒŒì¼ì´ ì„œë²„ì—ì„œ í™•ì¸ë˜ì§€ ì•ŠëŠ” ìƒíƒœì…ë‹ˆë‹¤.

ì§€ê¸ˆ ë‚´ê°€ êµ¬ë…í•œ ë²„ì ¼ìœ¼ë¡œ í•œë²ˆì— ì»¤ë²„ê°€ ë˜ëŠ” í† í°ì–‘ì´ì•¼?

2ì›” 22ì¼
ì†”ì§í•˜ê²Œ ë§ì”€ë“œë¦¬ë©´, í•œ ë²ˆì˜ ëŒ€í™” í„´ì—ì„œ 80ë¬¸ì œ í•´ì„¤ì„ ëª¨ë‘ ì‘ì„±í•˜ê³  HTML íŒŒì¼ì„ ìˆ˜ì •í•˜ëŠ” ê²ƒì€ ë¹ ë“¯í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ëŒ€ëµì ì¸ ì¶”ì •:

80ë¬¸ì œ í•´ì„¤: ê° ë¬¸ì œë‹¹ í‰ê·  100-200ì í•´ì„¤ Ã— 80ë¬¸ì œ = 8,000~16,000ì
HTML íŒŒì¼ ì½ê¸° + ìˆ˜ì •: íŒŒì¼ í¬ê¸°ì— ë”°ë¼ ë‹¤ë¥´ì§€ë§Œ ìƒë‹¹í•œ í† í°
ì´ ì¶œë ¥: ìˆ˜ë§Œ í† í° ì˜ˆìƒ
Opus êµ¬ë…(Pro/Max)ì´ë¼ë„ í•œ í„´ì˜ ì¶œë ¥ í† í°ì—ëŠ” ì œí•œì´ ìˆì–´ì„œ, 80ë¬¸ì œë¥¼ í•œ ë²ˆì— ë‹¤ í•˜ë©´ ì¤‘ê°„ì— ì˜ë¦´ ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤.

ì¶”ì²œ ë°©ë²•: 2~3íšŒë¡œ ë‚˜ëˆ ì„œ ì§„í–‰

1íšŒì°¨: 1~30ë²ˆ (ë¶€ë™ì‚°í•™ê°œë¡  ì „ë°˜)
2íšŒì°¨: 31~40ë²ˆ + 41~60ë²ˆ
3íšŒì°¨: 61~80ë²ˆ
ì´ë ‡ê²Œ í•˜ë©´ ì•ˆì •ì ìœ¼ë¡œ í•´ì„¤ í’ˆì§ˆë„ ìœ ì§€í•˜ë©´ì„œ ì™„ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. HTML íŒŒì¼ì„ ë‹¤ì‹œ ì—…ë¡œë“œí•´ì£¼ì‹œë©´ ë°”ë¡œ ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤.


realtor_image_based.html
html

1771768815419_image.png
í˜„ì¬ ì²¨ë¶€ë¡œ ê³µìœ í•´ì¤€ ì½”ë“œë§Œí¼ ì§„í–‰ì´ ëì–´. 2023~2025ë…„ë„ 1ì°¨ 1êµì‹œ 1~80ë¬¸ì œê¹Œì§€ëŠ” ì´ë¯¸ì§€ë„ ìº¡ì³í•´ì„œ questioní´ë”ì—ë‹¤ê°€ ì²¨ë¶€í•´ë†¨ê³ . ê·¸ëŸ°ë° ì•„ì´í°ì— ì•„ì´ì½˜ìœ¼ë¡œ ì„¤ì •í•´ë†“ì€ê±¸ ëˆŒëŸ¬ì„œ í™•ì¸í•´ë³´ë©´ ìˆ˜ì • ì‚¬í•­ë“¤ì´ ëŠ¦ê²Œ ë°˜ì˜ì´ ë˜ëŠ”ê±´ì§€ ë°˜ì˜ì´ ì•ˆë˜ëŠ”ê±´ì§€ ëª¨ë¥´ê² ë„¤.. pw.js? ì´ëŸ° íŒŒì¼ë„ ì—†ê³  manifestíŒŒì¼ë„ ì—†ëŠ” ìƒíƒœì•¼ í˜„ì¬. ì²¨ë¶€ ì´ë¯¸ì§€ì™€ ê°™ì´ ë ˆí¬ê°€ êµ¬ì„±ë˜ì–´ìˆì–´. í•„ìš”í•œê²Œ ìˆì„ê¹Œ?

2ì›” 22ì¼
í˜„ì¬ ìƒí™©ì„ ì •ë¦¬í•˜ë©´:

PWAë¡œ ì•„ì´í° í™ˆ í™”ë©´ì— ì¶”ê°€í–ˆëŠ”ë° ì—…ë°ì´íŠ¸ê°€ ì•ˆ ë˜ëŠ” ë¬¸ì œ
manifest.json, service worker(sw.js)ê°€ ì—†ëŠ” ìƒíƒœ
í•´ì„¤(explanation) ì‘ì„±ë„ í•„ìš”
ìš°ì„  HTML íŒŒì¼ êµ¬ì¡°ë¶€í„° í™•ì¸í•˜ê² ìŠµë‹ˆë‹¤.


ëª…ë ¹ 3ê°œ ì‹¤í–‰í•¨
ëª…ë ¹ 3ê°œ ì‹¤í–‰í•¨
Claudeì˜ ì‘ë‹µì´ ì¤‘ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤

realtor_image_based.html
html

1771768815419_image.png
í˜„ì¬ ì²¨ë¶€ë¡œ ê³µìœ í•´ì¤€ ì½”ë“œë§Œí¼ ì§„í–‰ì´ ëì–´. 2023~2025ë…„ë„ 1ì°¨ 1êµì‹œ 1~80ë¬¸ì œê¹Œì§€ëŠ” ì´ë¯¸ì§€ë„ ìº¡ì³í•´ì„œ questioní´ë”ì—ë‹¤ê°€ ì²¨ë¶€í•´ë†¨ê³ . ê·¸ëŸ°ë° ì•„ì´í°ì— ì•„ì´ì½˜ìœ¼ë¡œ ì„¤ì •í•´ë†“ì€ê±¸ ëˆŒëŸ¬ì„œ í™•ì¸í•´ë³´ë©´ ìˆ˜ì • ì‚¬í•­ë“¤ì´ ëŠ¦ê²Œ ë°˜ì˜ì´ ë˜ëŠ”ê±´ì§€ ë°˜ì˜ì´ ì•ˆë˜ëŠ”ê±´ì§€ ëª¨ë¥´ê² ë„¤.. pw.js? ì´ëŸ° íŒŒì¼ë„ ì—†ê³  manifestíŒŒì¼ë„ ì—†ëŠ” ìƒíƒœì•¼ í˜„ì¬. ì²¨ë¶€ ì´ë¯¸ì§€ì™€ ê°™ì´ ë ˆí¬ê°€ êµ¬ì„±ë˜ì–´ìˆì–´. ìˆ˜ì •ì‚¬í•­ë“¤ì´ ë°˜ì˜ì´ ë˜ê²Œë” ìˆ˜ì •ì´ í•„ìš”í•œê²Œ ìˆì„ê¹Œ? ê·¸ë¦¬ê³  explanationì€ ë”ì´ìƒ ì‘ì„±ì„ ì•ˆí•˜ê³  ë„ˆê°€ ì‹ ê²½ì„ ì•ˆì¨ë„ë¼.

2ì›” 22ì¼
ë¨¼ì € HTML íŒŒì¼ì„ í™•ì¸í•´ì„œ PWA ê´€ë ¨ ì„¤ì • ìƒíƒœë¥¼ íŒŒì•…í•˜ê² ìŠµë‹ˆë‹¤.


ëª…ë ¹ 3ê°œ ì‹¤í–‰í•¨
ëª…ë ¹ 3ê°œ ì‹¤í–‰í•¨
ë¬¸ì œê°€ ëª…í™•í•©ë‹ˆë‹¤. HTMLì—ì„œ manifest.jsonê³¼ icon-192.pngë¥¼ ì°¸ì¡°í•˜ê³  ìˆì§€ë§Œ ì‹¤ì œ íŒŒì¼ì´ ì—†ê³ , Service Workerë„ ì—†ìŠµë‹ˆë‹¤. ì´ê²ƒ ë•Œë¬¸ì— ì•„ì´í° í™ˆ í™”ë©´ ì•±ì´ ìºì‹œëœ ì˜¤ë˜ëœ ë²„ì „ì„ ë³´ì—¬ì£¼ëŠ” ê²ë‹ˆë‹¤.

ì´ í”„ë¡œì íŠ¸ëŠ” GitHub Pagesë¡œ í˜¸ìŠ¤íŒ…í•˜ê³  ìˆë‚˜ìš”? ê·¸ë ‡ë‹¤ë©´ í•„ìš”í•œ íŒŒì¼ 2ê°œë¥¼ ë§Œë“¤ì–´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

í˜¸ìŠ¤íŒ… ë°©ì‹ê³¼ ì•„ì´ì½˜ ìœ ë¬´ë¥¼ ì•Œë ¤ì£¼ì‹œë©´ ë°”ë¡œ manifest.jsonê³¼ sw.jsë¥¼ ë§Œë“¤ì–´ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ì´ ë‘ íŒŒì¼ì´ ìˆìœ¼ë©´ ì•„ì´í° í™ˆ í™”ë©´ ì•±ì—ì„œ ì—…ë°ì´íŠ¸ê°€ ì •ìƒ ë°˜ì˜ë©ë‹ˆë‹¤.

ì§ˆë¬¸: í˜¸ìŠ¤íŒ… ë°©ì‹ì´ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?
ë‹µë³€: GitHub Pages

ì§ˆë¬¸: ì•„ì´ì½˜ ì´ë¯¸ì§€(icon-192.png)ëŠ” ìˆë‚˜ìš”?
ë‹µë³€: ì—†ë‹¤ (ë§Œë“¤ì–´ì¤˜)

2ì›” 22ì¼

Check existing PWA references in HTML
Check existing PWA references in HTML
í•„ìš”í•œ íŒŒì¼ë“¤ì„ ë§Œë“¤ê² ìŠµë‹ˆë‹¤.


ëª…ë ¹ 2ê°œ ì‹¤í–‰í•¨, 2ê°œì˜ íŒŒì¼ ìƒì„±ë¨
ëª…ë ¹ 2ê°œ ì‹¤í–‰í•¨, 2ê°œì˜ íŒŒì¼ ìƒì„±ë¨
ì´ì œ HTML íŒŒì¼ì— Service Worker ë“±ë¡ ì½”ë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.


ëª…ë ¹ 2ê°œ ì‹¤í–‰í•¨, íŒŒì¼ ìˆ˜ì •ë¨, íŒŒì¼ ì½ìŒ
ëª…ë ¹ 2ê°œ ì‹¤í–‰í•¨, íŒŒì¼ ìˆ˜ì •ë¨, íŒŒì¼ ì½ìŒ
GitHub ë ˆí¬ ë£¨íŠ¸ì— ì´ 5ê°œ íŒŒì¼ì„ ì˜¬ë ¤ì£¼ì„¸ìš”:

íŒŒì¼	ì—­í• 
sw.js	Service Worker â€” ë„¤íŠ¸ì›Œí¬ ìš°ì„  ì „ëµìœ¼ë¡œ í•­ìƒ ìµœì‹  ë²„ì „ì„ ê°€ì ¸ì˜¤ê³ , ì˜¤í”„ë¼ì¸ì¼ ë•Œë§Œ ìºì‹œ ì‚¬ìš©
manifest.json	PWA ë§¤ë‹ˆí˜ìŠ¤íŠ¸ â€” ì•± ì´ë¦„, ì•„ì´ì½˜, ì‹œì‘ URL ì •ì˜
realtor_image_based.html	SW ë“±ë¡ ì½”ë“œ ì¶”ê°€ë¨
icon-192.png / icon-512.png	í™ˆ í™”ë©´ ì•„ì´ì½˜
ì—…ë°ì´íŠ¸ ë°˜ì˜ì´ ì•ˆ ë˜ë˜ ì´ìœ : Service Workerê°€ ì—†ìœ¼ë©´ ì•„ì´í° Safariì˜ í™ˆ í™”ë©´ ì•±ì€ ìì²´ ìºì‹œë¥¼ ê°•í•˜ê²Œ ìœ ì§€í•©ë‹ˆë‹¤. SWê°€ ìˆìœ¼ë©´ network-first ì „ëµìœ¼ë¡œ í•­ìƒ ìµœì‹  íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.

ë°°í¬ í›„ ì•„ì´í°ì—ì„œ: ê¸°ì¡´ í™ˆ í™”ë©´ ì•„ì´ì½˜ì„ ì‚­ì œ â†’ ë‹¤ì‹œ ì¶”ê°€í•´ì£¼ì„¸ìš”. ì´í›„ë¶€í„°ëŠ” ìˆ˜ì •ì‚¬í•­ì´ ë°”ë¡œ ë°˜ì˜ë©ë‹ˆë‹¤. sw.jsì˜ CACHE_VERSIONì„ ì˜¬ë¦¬ë©´ ê°•ì œ ìºì‹œ ê°±ì‹ ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.

Sw
JS 
Manifest
ì½”ë“œ Â· JSON 
Realtor image based
ì½”ë“œ Â· HTML 
Icon 192
ì´ë¯¸ì§€ Â· PNG 
Icon 512
ì´ë¯¸ì§€ Â· PNG 
ê¸°ì¡´ realtor_image_based.htmlì—ì„œ ë­ê°€ ì¶”ê°€? ìˆ˜ì •ì´ ëœê±´ì§€ë§Œ ì•Œë ¤ ì¤„ ìˆ˜ ìˆì–´? ë‚´ê°€ ì§ì ‘ ìˆ˜ì •í•˜ë ¤ê³ 

2ì›” 22ì¼
HTML íŒŒì¼ ë§¨ ëì— Service Worker ë“±ë¡ ìŠ¤í¬ë¦½íŠ¸ë§Œ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.

</script> ì™€ </body> ì‚¬ì´ì— ì´ ì½”ë“œë¥¼ ë„£ìœ¼ë©´ ë©ë‹ˆë‹¤:

html
    <script>
        // Service Worker ë“±ë¡
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js').then((reg) => {
                // ì—…ë°ì´íŠ¸ í™•ì¸
                reg.addEventListener('updatefound', () => {
                    const newWorker = reg.installing;
                    newWorker.addEventListener('statechange', () => {
                        if (newWorker.state === 'activated') {
                            // ìƒˆ ë²„ì „ ê°ì§€ ì‹œ ìë™ ìƒˆë¡œê³ ì¹¨
                            window.location.reload();
                        }
                    });
                });
            });
        }
    </script>
ê¸°ì¡´ ì½”ë“œì˜ ë§ˆì§€ë§‰ </script> ë°”ë¡œ ë‹¤ìŒ, </body> ë°”ë¡œ ì „ì— ë„£ìœ¼ë©´ ë©ë‹ˆë‹¤. ë‚˜ë¨¸ì§€ HTML ë‚´ìš©ì€ ì „í˜€ ìˆ˜ì •í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.


#!/usr/bin/env python3 # -*- coding: utf-8 -*- """ OCR + ë©€í‹° ëª¨ë¸ í´ë°± í•´ì„¤ ìƒì„±ê¸° """ import os import json import time import requests from pathlib import Path from PIL import Image import pytesseract # ====== API í‚¤ ì…ë ¥ ====== ANTHROPIC_API_KEY = "sk-ant-api03-2MsihYEs37tImj7L-rFN5XZ0mg9y9WiqdySQEoDXXVuhy

pasted

ì´ëŸ°ì‹ìœ¼ë¡œ 240ê°œ ë¬¸ì œì— ëŒ€í•´ì„œ í•´ì„¤ì„ ë½‘ì•„ë‚´ê¸´í–ˆëŠ”ë°, ì›í•˜ëŠ” í˜•ì‹ëŒ€ë¡œ í•´ì„¤ì„ ë½‘ì•„ë‚´ê¸° í˜ë“ ê±° ê°™ì•„.
ê·¸ë˜ì„œ ê·¸ëŸ°ë°, ì‚¬ìš©ìê°€ ë¬¸ì œë¥¼ í’€ë•Œ ì •ë‹µì„ ëˆ„ë¥´ëŠ” ì‹œì  ì¦‰ì‹œ ì‹¤ì‹œê°„ìœ¼ë¡œ ë¬´ë£Œ ëª¨ë¸ì— í•´ì„¤ì„ ì‘ì„±í•˜ë„ë¡ì€ êµ¬í˜„í•˜ì§€ ëª»í• ê¹Œ?

ì˜¤í›„ 1:58
ì¢‹ì€ ì•„ì´ë””ì–´ì…ë‹ˆë‹¤! ì¶©ë¶„íˆ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì •ë‹µì„ í™•ì¸í•˜ëŠ” ìˆœê°„ ë¬´ë£Œ APIë¥¼ í˜¸ì¶œí•´ì„œ ì‹¤ì‹œê°„ í•´ì„¤ì„ ë°›ëŠ” ë°©ì‹ì´ìš”.

ë‹¤ë§Œ ëª‡ ê°€ì§€ í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤:

ìœ„ ë‘ ê°€ì§€ë¥¼ ì•Œë ¤ì£¼ì‹œë©´ ë°”ë¡œ êµ¬í˜„ ë°©í–¥ì„ ì¡ê² ìŠµë‹ˆë‹¤.

ì°¸ê³ ë¡œ, Gemini ë¬´ë£Œ APIê°€ ì´ ìš©ë„ì— ê°€ì¥ ì í•©í•©ë‹ˆë‹¤. CORS ì§€ì›ì´ ë˜ì–´ì„œ ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ í˜¸ì¶œ ê°€ëŠ¥í•˜ê³ , ë¬´ë£Œ í‹°ì–´ í•œë„ë„ ë„‰ë„‰í•©ë‹ˆë‹¤. ì´ë¯¸ì§€ë¥¼ base64ë¡œ ë³´ë‚´ë©´ OCR ì—†ì´ ë°”ë¡œ ë¬¸ì œë¥¼ ì½ê³  í•´ì„¤ì„ ìƒì„±í•  ìˆ˜ ìˆì–´ì„œ í’ˆì§ˆë„ í›¨ì”¬ ì¢‹ì•„ì§‘ë‹ˆë‹¤.

í˜„ì¬ ë‚´ê°€ ê³µìœ í•´ì¤€ ì½”ë“œì²˜ëŸ¼ ì—¬ëŸ¬ ëª¨ë¸ë“¤ì„ ìš°ì„ ìˆœìœ„ëŒ€ë¡œ í•˜ë‚˜ì”© ì‹œë„í•´ì„œ í•´ì„¤ ë‚´ìš©ì´ ì¶”ì¶œë˜ëŠ”ëŒ€ë¡œ ì¶œë ¥ë˜ë„ë¡ êµ¬í˜„í•´ì£¼ë¼. í•˜ë‚˜ì˜ ëª¨ë¸ì„ íŠ¹ì •ì§€ìœ¼ë‹Œê¹ ì‹¤íŒ¨í•˜ëŠ” ì¼€ì´ìŠ¤ê°€ ë§ë”ë¼ê³ . í• ë‹¹ëœ í† í°ëŸ‰ë„ ê¸ˆë°© ì†Œë¹„í•˜ê¸°ë„ í•˜ê³ .

ì‚¬ìš©ìê°€ ì •ë‹µ ì„ íƒ ì‹œ, í•´ì„¤ ì¶”ì¶œ í•„ìš” 1. í•´ì„¤ ì¶”ì¶œ ì‹œ êµ¬í˜„ ë°©ë²• ì•„ì´ë””ì–´ 1. í•´ë‹¹ ë¬¸ì œì˜ ì´ë¯¸ì§€ë¥¼ OCRë¡œ í…ìŠ¤íŠ¸ë¡œ ì¶”ì¶œ (í† í° ì‚¬ìš©ëŸ‰ ìµœì†Œí™”) 2. í…ìŠ¤íŠ¸ ê¸°ë°˜ í”„ë¡¬í”„íŠ¸ ì‘ì„±í•˜ì—¬ í•´ì„¤ ìš”ì²­ 3. ê° ëª¨ë¸ë³„ ë™ì¼ í”„ë¡¬í”„íŠ¸ë¡œ í•´ì„¤ ìš”ì²­
ì˜¤í›„ 2:01

ëª…ë ¹ 5ê°œ ì‹¤í–‰í•¨
ëª…ë ¹ 5ê°œ ì‹¤í–‰í•¨
ì´ì œ êµ¬ì¡°ë¥¼ íŒŒì•…í–ˆìŠµë‹ˆë‹¤. selectAnswer í•¨ìˆ˜ì—ì„œ í•´ì„¤ì„ í‘œì‹œí•˜ëŠ” ë¶€ë¶„ì„ ìˆ˜ì •í•˜ë©´ ë©ë‹ˆë‹¤. ì´ë¯¸ì§€ë¥¼ OCR â†’ í”„ë¡¬í”„íŠ¸ â†’ ë©€í‹°ëª¨ë¸ í´ë°±ìœ¼ë¡œ ì‹¤ì‹œê°„ í•´ì„¤ ìƒì„±í•˜ëŠ” ë¡œì§ì„ ì¶”ê°€í•˜ê² ìŠµë‹ˆë‹¤.


ëª…ë ¹ 2ê°œ ì‹¤í–‰í•¨
ëª…ë ¹ 2ê°œ ì‹¤í–‰í•¨
ì´ì œ ì „ì²´ ìˆ˜ì • ì‚¬í•­ì„ ì •ë¦¬í•´ì„œ ë§Œë“¤ê² ìŠµë‹ˆë‹¤. ê¸°ì¡´ HTMLì—ì„œ ì¶”ê°€/ìˆ˜ì •ì´ í•„ìš”í•œ ë¶€ë¶„ë§Œ ëª…í™•íˆ ì•Œë ¤ë“œë¦¬ê² ìŠµë‹ˆë‹¤.


ëª…ë ¹ ì‹¤í–‰í•¨, íŒŒì¼ ìˆ˜ì •ë¨
ëª…ë ¹ ì‹¤í–‰í•¨, íŒŒì¼ ìˆ˜ì •ë¨
ì´ì œ í•µì‹¬ì¸ AI í•´ì„¤ ìƒì„± í•¨ìˆ˜ì™€ selectAnswer ìˆ˜ì •:


Replace selectAnswer and add AI explanation generation with multi-model fallback + OCR
Replace selectAnswer and add AI explanation generation with multi-model fallback + OCR
ì´ì œ displayQuestion í•¨ìˆ˜ì—ì„œ ì´ë¯¸ ë‹µì„ í•œ ë¬¸ì œë¥¼ ë‹¤ì‹œ ë³¼ ë•Œë„ ìºì‹œëœ í•´ì„¤ì´ í‘œì‹œë˜ë„ë¡ ìˆ˜ì •:


Update displayQuestion to show cached AI explanations when revisiting answered questions
Update displayQuestion to show cached AI explanations when revisiting answered questions
ê²°ê³¼ í™”ë©´ì˜ ì˜¤ë‹µ í•´ì„¤ë„ AI ìƒì„±ëœ ê±¸ ì“°ë„ë¡ í™•ì¸:


ëª…ë ¹ 3ê°œ ì‹¤í–‰í•¨, íŒŒì¼ ìˆ˜ì •ë¨, íŒŒì¼ ì½ìŒ
ëª…ë ¹ 3ê°œ ì‹¤í–‰í•¨, íŒŒì¼ ìˆ˜ì •ë¨, íŒŒì¼ ì½ìŒ
ìˆ˜ì •ëœ ë‚´ìš©ì„ ì •ë¦¬í•˜ë©´:

1. CSS ì¶”ê°€ (.explanation-text ì•„ë˜ì—)

.explanation-loading â€” ìŠ¤í”¼ë„ˆ + "AI í•´ì„¤ ìƒì„± ì¤‘..." ë¡œë”© UI
.explanation-error â€” ì‹¤íŒ¨ ì‹œ ë¹¨ê°„ í…ìŠ¤íŠ¸
2. selectAnswer í•¨ìˆ˜ ìœ„ì— AI í•´ì„¤ ì‹œìŠ¤í…œ ì¶”ê°€

imageToBase64() â€” ë¬¸ì œ ì´ë¯¸ì§€ë¥¼ canvasë¡œ base64 ë³€í™˜
extractTextFromImage() â€” Gemini Visionìœ¼ë¡œ OCR (ì´ë¯¸ì§€â†’í…ìŠ¤íŠ¸)
buildExplanationPrompt() â€” ì¶”ì¶œëœ í…ìŠ¤íŠ¸ + ì •ë‹µìœ¼ë¡œ í•´ì„¤ í”„ë¡¬í”„íŠ¸ ìƒì„±
callGemini() / callGroq() / callOpenRouter() â€” 3ê°œ ëª¨ë¸ í˜¸ì¶œ í•¨ìˆ˜
generateExplanation() â€” ìˆœì„œëŒ€ë¡œ ì‹œë„, ì„±ê³µí•˜ë©´ ë°˜í™˜í•˜ëŠ” í´ë°± ë¡œì§
getAIExplanation() â€” ìºì‹œ í™•ì¸ â†’ OCR â†’ í•´ì„¤ ìƒì„± íŒŒì´í”„ë¼ì¸
explanationCache â€” ì„¸ì…˜ ì¤‘ ê°™ì€ ë¬¸ì œ ì¬í˜¸ì¶œ ë°©ì§€
3. selectAnswer í•¨ìˆ˜ ìˆ˜ì •

explanationì´ ìˆìœ¼ë©´ â†’ ê¸°ì¡´ëŒ€ë¡œ ë°”ë¡œ í‘œì‹œ
ë¹„ì–´ìˆìœ¼ë©´ â†’ ë¡œë”© ìŠ¤í”¼ë„ˆ â†’ AI í•´ì„¤ ìƒì„± â†’ í‘œì‹œ
4. displayQuestion í•¨ìˆ˜ ìˆ˜ì •

ì´ë¯¸ í‘¼ ë¬¸ì œ ì¬ë°©ë¬¸ ì‹œ ìºì‹œëœ AI í•´ì„¤ í‘œì‹œ
5. ê²°ê³¼ í™”ë©´ ì˜¤ë‹µ í•´ì„¤

explanationCacheì—ì„œ ë¨¼ì € ì°¾ê³ , ì—†ìœ¼ë©´ ê¸°ì¡´ explanation ì‚¬ìš©
Realtor image based
ì½”ë“œ Â· HTML 




ClaudeëŠ” AIì´ë©° ì‹¤ìˆ˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‘ë‹µì„ ë‹¤ì‹œ í•œë²ˆ í™•ì¸í•´ ì£¼ì„¸ìš”.
Realtor image based Â· HTML
ë³µì‚¬

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ê³µì¸ì¤‘ê°œì‚¬">
    <meta name="theme-color" content="#667eea">
    <title>ê³µì¸ì¤‘ê°œì‚¬ ì‹œí—˜ ë¬¸ì œì§‘</title>
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon-192.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            -webkit-user-select: none;
            user-select: none;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .progress-bar {
            background: rgba(255,255,255,0.3);
            height: 8px;
            border-radius: 4px;
            margin-top: 15px;
            overflow: hidden;
        }

        .progress-fill {
            background: white;
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }

        .content {
            padding: 40px;
        }

        .start-screen {
            text-align: center;
            padding: 40px 20px;
        }

        .start-screen h2 {
            font-size: 24px;
            color: #333;
            margin-bottom: 20px;
        }

        .start-screen p {
            color: #666;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .select-group {
            margin: 25px 0;
            text-align: left;
        }

        .select-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
            font-size: 16px;
        }

        .select-group select,
        .select-group input {
            width: 100%;
            padding: 14px;
            font-size: 16px;
            border: 2px solid #ddd;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            transition: border-color 0.3s;
        }

        .select-group select:focus,
        .select-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .select-group input {
            cursor: text;
        }

        #questionCountInput {
            display: none;
            margin-top: 15px;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 16px 45px;
            font-size: 18px;
            border-radius: 30px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 20px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .question-screen {
            display: none;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #eee;
        }

        .question-number {
            font-size: 18px;
            font-weight: bold;
            color: #667eea;
        }

        .question-stats {
            display: flex;
            gap: 20px;
            font-size: 14px;
            color: #666;
        }

        /* ë¬¸ì œ ì´ë¯¸ì§€ ì˜ì—­ */
        .question-image-container {
            margin-bottom: 30px;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            border: 2px solid #e0e0e0;
        }

        .question-image {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 8px;
        }

        .question-image.loading {
            min-height: 400px;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ìˆ«ì ë²„íŠ¼ ì˜ì—­ */
        .number-buttons {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .number-btn {
            padding: 20px;
            font-size: 24px;
            font-weight: bold;
            border: 3px solid #e0e0e0;
            border-radius: 12px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            -webkit-tap-highlight-color: transparent;
        }

        .number-btn:hover:not(.disabled) {
            border-color: #667eea;
            background: #f8f9ff;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }

        .number-btn.selected {
            border-color: #667eea;
            background: #f0f4ff;
            color: #667eea;
        }

        .number-btn.correct {
            border-color: #4caf50;
            background: #e8f5e9;
            color: #4caf50;
        }

        .number-btn.wrong {
            border-color: #f44336;
            background: #ffebee;
            color: #f44336;
        }

        .number-btn.disabled {
            pointer-events: none;
            opacity: 0.8;
        }

        .explanation-box {
            margin-top: 25px;
            padding: 20px;
            background: #f0f8ff;
            border-radius: 10px;
            border-left: 4px solid #4caf50;
            display: none;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .explanation-box.show {
            display: block;
        }

        .explanation-title {
            font-weight: bold;
            color: #4caf50;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .explanation-text {
            color: #333;
            line-height: 1.6;
        }

        .explanation-loading {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #888;
        }

        .explanation-loading .spinner {
            width: 18px;
            height: 18px;
            border: 2px solid #ddd;
            border-top: 2px solid #667eea;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .explanation-error {
            color: #f44336;
            font-size: 13px;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #eee;
            gap: 10px;
        }

        .nav-left, .nav-right {
            display: flex;
            gap: 10px;
        }

        .btn-nav {
            padding: 14px 26px;
            font-size: 16px;
        }

        .btn-secondary {
            background: #95a5a6;
        }

        .btn-secondary:hover {
            background: #7f8c8d;
            box-shadow: 0 5px 15px rgba(149, 165, 166, 0.4);
        }

        .btn-home {
            background: #3498db;
        }

        .btn-home:hover {
            background: #2980b9;
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
        }

        .btn-finish {
            background: #e74c3c;
        }

        .btn-finish:hover {
            background: #c0392b;
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.4);
        }

        .result-screen {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }

        .score-display {
            font-size: 72px;
            font-weight: bold;
            color: #667eea;
            margin: 30px 0;
        }

        .score-label {
            font-size: 24px;
            color: #333;
            margin-bottom: 10px;
        }

        .score-details {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 40px 0;
        }

        .score-item {
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .score-item-label {
            font-size: 14px;
            color: #666;
            margin-bottom: 5px;
        }

        .score-item-value {
            font-size: 28px;
            font-weight: bold;
            color: #333;
        }

        .wrong-answers {
            margin-top: 40px;
            text-align: left;
        }

        .wrong-answers h3 {
            font-size: 20px;
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eee;
        }

        .wrong-answer-item {
            background: #fff3cd;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #ffc107;
        }

        .wrong-answer-header {
            font-weight: bold;
            color: #856404;
            margin-bottom: 10px;
        }

        .wrong-answer-explanation {
            color: #333;
            line-height: 1.6;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #ffeaa7;
        }

        .explanation-label {
            font-weight: bold;
            color: #4caf50;
            margin-bottom: 5px;
        }

        .image-error {
            text-align: center;
            padding: 40px;
            color: #f44336;
            background: #ffebee;
            border-radius: 10px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            body {
                padding: 0;
            }

            .container {
                border-radius: 0;
                min-height: 100vh;
            }

            .content {
                padding: 20px;
            }

            .score-details {
                grid-template-columns: 1fr;
            }

            .score-display {
                font-size: 48px;
            }

            .navigation {
                flex-direction: column;
            }

            .nav-left, .nav-right {
                width: 100%;
            }

            .btn-nav {
                flex: 1;
            }

            .number-buttons {
                grid-template-columns: repeat(5, 1fr);
                gap: 10px;
            }

            .number-btn {
                padding: 15px 10px;
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ  ê³µì¸ì¤‘ê°œì‚¬ ì‹œí—˜ ë¬¸ì œì§‘</h1>
            <p id="headerSubtitle">2020-2025ë…„ ê¸°ì¶œë¬¸ì œ</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>

        <div class="content">
            <!-- ì‹œì‘ í™”ë©´ -->
            <div class="start-screen" id="startScreen">
                <h2>ê³µì¸ì¤‘ê°œì‚¬ ì‹œí—˜ ëŒ€ë¹„ ë¬¸ì œì§‘</h2>
                <p>
                    ê¸°ì¶œë¬¸ì œë¥¼ ë°”íƒ•ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ë¬¸ì œì§‘ì…ë‹ˆë‹¤.<br>
                    2023, 2024, 2025ë…„<br>
                    ë¶€ë™ì‚°í•™ê°œë¡ , ë¯¼ë²• ë° ë¯¼ì‚¬íŠ¹ë³„ë²• ë°˜ì˜ ì™„ë£Œ.<br>
                    ì´ì •ë¯¼ í™”ì´íŒ…!
                </p>

                <div class="select-group">
                    <label for="yearSelect">ğŸ“… ë…„ë„ ì„ íƒ:</label>
                    <select id="yearSelect">
                        <option value="all">ì „ì²´ ë…„ë„</option>
                        <option value="2025">2025ë…„ (ì œ36íšŒ)</option>
                        <option value="2024">2024ë…„ (ì œ35íšŒ)</option>
                        <option value="2023">2023ë…„ (ì œ34íšŒ)</option>
                        <option value="2022">2022ë…„ (ì œ33íšŒ)</option>
                        <option value="2021">2021ë…„ (ì œ32íšŒ)</option>
                        <option value="2020">2020ë…„ (ì œ31íšŒ)</option>
                        <option value="random">ğŸ² ëœë¤ (ë§ì¶¤í˜•)</option>
                    </select>
                </div>

                <div class="select-group" id="questionCountInput">
                    <label for="questionCount">ë¬¸í•­ ìˆ˜ ì…ë ¥:</label>
                    <input type="number" id="questionCount" min="5" max="200" value="40" placeholder="ì˜ˆ: 40">
                </div>

                <div class="select-group">
                    <label for="subjectSelect">ğŸ“š ê³¼ëª© ì„ íƒ:</label>
                    <select id="subjectSelect">
                        <option value="all">ì „ì²´ ê³¼ëª© (í†µí•©)</option>
                        <option value="intro">ë¶€ë™ì‚°í•™ê°œë¡ </option>
                        <option value="civil">ë¯¼ë²• ë° ë¯¼ì‚¬íŠ¹ë³„ë²•</option>
                        <option value="broker">ê³µì¸ì¤‘ê°œì‚¬ë²•</option>
                        <option value="public">ë¶€ë™ì‚°ê³µë²•</option>
                        <option value="disclosure">ë¶€ë™ì‚°ê³µì‹œë²• ë° ì„¸ë²•</option>
                    </select>
                </div>

                <button class="btn" onclick="startQuiz()">ì‹œí—˜ ì‹œì‘ ğŸš€</button>
            </div>

            <!-- ë¬¸ì œ í™”ë©´ -->
            <div class="question-screen" id="questionScreen">
                <div class="question-header">
                    <div class="question-number" id="questionNumber">ë¬¸ì œ 1/40</div>
                    <div class="question-stats">
                        <span>â±ï¸ <span id="timer">00:00</span></span>
                        <span id="yearBadge" style="background: #667eea; color: white; padding: 4px 10px; border-radius: 12px; font-size: 13px;"></span>
                    </div>
                </div>

                <!-- ë¬¸ì œ ì´ë¯¸ì§€ -->
                <div class="question-image-container">
                    <img id="questionImage" class="question-image" alt="ë¬¸ì œ" />
                </div>

                <!-- ìˆ«ì ë²„íŠ¼ (1-5) -->
                <div class="number-buttons" id="numberButtons">
                    <button class="number-btn" onclick="selectAnswer(0)">1</button>
                    <button class="number-btn" onclick="selectAnswer(1)">2</button>
                    <button class="number-btn" onclick="selectAnswer(2)">3</button>
                    <button class="number-btn" onclick="selectAnswer(3)">4</button>
                    <button class="number-btn" onclick="selectAnswer(4)">5</button>
                </div>

                <!-- í•´ì„¤ -->
                <div class="explanation-box" id="explanationBox">
                    <div class="explanation-title">ğŸ’¡ í•´ì„¤</div>
                    <div class="explanation-text" id="explanationText"></div>
                </div>

                <!-- ë„¤ë¹„ê²Œì´ì…˜ -->
                <div class="navigation">
                    <div class="nav-left">
                        <button class="btn btn-secondary btn-nav" onclick="previousQuestion()" id="prevBtn">â—€ ì´ì „</button>
                        <button class="btn btn-nav" onclick="nextQuestion()" id="nextBtn">ë‹¤ìŒ â–¶</button>
                    </div>
                    <div class="nav-right">
                        <button class="btn btn-home btn-nav" onclick="goHome()">ğŸ  í™ˆ</button>
                        <button class="btn btn-finish btn-nav" onclick="finishEarly()">â¹ï¸ ì¢…ë£Œ</button>
                    </div>
                </div>
            </div>

            <!-- ê²°ê³¼ í™”ë©´ -->
            <div class="result-screen" id="resultScreen">
                <h2 class="score-label">ìµœì¢… ì ìˆ˜</h2>
                <div class="score-display" id="finalScore">0ì </div>

                <div class="score-details">
                    <div class="score-item">
                        <div class="score-item-label">ì´ ë¬¸ì œ ìˆ˜</div>
                        <div class="score-item-value" id="totalQuestions">0</div>
                    </div>
                    <div class="score-item">
                        <div class="score-item-label">ì •ë‹µ</div>
                        <div class="score-item-value" style="color: #4caf50;" id="correctAnswers">0</div>
                    </div>
                    <div class="score-item">
                        <div class="score-item-label">ì˜¤ë‹µ</div>
                        <div class="score-item-value" style="color: #f44336;" id="wrongAnswers">0</div>
                    </div>
                </div>

                <div class="wrong-answers" id="wrongAnswersSection">
                    <h3>ğŸ“ í‹€ë¦° ë¬¸ì œ í•´ì„¤</h3>
                    <div id="wrongAnswersList"></div>
                </div>

                <button class="btn" onclick="restartQuiz()">ë‹¤ì‹œ ì‹œì‘ ğŸ”„</button>
            </div>
        </div>
    </div>

    <script>
        // ë…„ë„ ì„ íƒ ì‹œ ë¬¸í•­ìˆ˜ ì…ë ¥ í•„ë“œ í‘œì‹œ/ìˆ¨ê¹€
        document.getElementById('yearSelect').addEventListener('change', function() {
            const questionCountInput = document.getElementById('questionCountInput');
            if (this.value === 'random') {
                questionCountInput.style.display = 'block';
            } else {
                questionCountInput.style.display = 'none';
            }
        });

        // ë¬¸ì œ ë°ì´í„°ë² ì´ìŠ¤ (ì´ë¯¸ì§€ ê¸°ë°˜)
        // íŒŒì¼ëª… ê·œì¹™: questions/YYYY_C_T_NN.png
        // YYYY: ë…„ë„ (2025)
        // C: ì°¨ìˆ˜ (1=1ì°¨, 2=2ì°¨)
        // T: êµì‹œ (1=1êµì‹œ, 2=2êµì‹œ)
        // NN: ë¬¸ì œë²ˆí˜¸ (01-40)
        const questionDatabase = [
            // 2025ë…„ 1ì°¨ 1êµì‹œ - ë¶€ë™ì‚°í•™ê°œë¡  (1-40ë²ˆ)
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_01.png', correct: 0, explanation: 'ë¶€ë™ì„±(fixity)ì€ í† ì§€ê°€ ë¬¼ë¦¬ì ìœ¼ë¡œ ê³ ì •ë˜ì–´ ìˆì–´ ì´ë™í•  ìˆ˜ ì—†ë‹¤ëŠ” íŠ¹ì„±ì„ ë§í•©ë‹ˆë‹¤.' },
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_02.png', correct: 0, explanation: 'í•œêµ­í‘œì¤€ì‚°ì—…ë¶„ë¥˜(KSIC)ì—ì„œ ë¶€ë™ì‚° ì„ëŒ€ ë° ê³µê¸‰ì—…ì€ ë¶€ë™ì‚°ê´€ë ¨ ì„œë¹„ìŠ¤ì—…ì— í•´ë‹¹í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.' },
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_03.png', correct: 2, explanation: 'ë‹¤ì¤‘ì£¼íƒì€ ê±´ì¶•ë²•ìƒ ë‹¨ë…ì£¼íƒì˜ í•œ ì¢…ë¥˜ì…ë‹ˆë‹¤.' },
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_04.png', correct: 2, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_05.png', correct: 3, explanation: 'STPëŠ” Segmentation, Targeting, Positioningì…ë‹ˆë‹¤.'},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_06.png', correct: 2, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_07.png', correct: 4, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_08.png', correct: 0, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_09.png', correct: 2, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_10.png', correct: 4, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_11.png', correct: 0, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_12.png', correct: 4, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_13.png', correct: 1, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_14.png', correct: 0, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_15.png', correct: 3, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_16.png', correct: 1, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_17.png', correct: 4, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_18.png', correct: 2, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_19.png', correct: 1, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_20.png', correct: 1, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_21.png', correct: 3, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_22.png', correct: 1, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_23.png', correct: 3, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_24.png', correct: 4, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_25.png', correct: 4, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_26.png', correct: 0, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_27.png', correct: 2, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_28.png', correct: 3, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_29.png', correct: 1, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_30.png', correct: 2, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_31.png', correct: 1, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_32.png', correct: 2, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_33.png', correct: 4, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_34.png', correct: 0, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_35.png', correct: 1, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_36.png', correct: 4, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_37.png', correct: 3, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_38.png', correct: 3, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_39.png', correct: 2, explanation: ''},
            { year: 2025, subject: 'intro', image: 'questions/2025_1_1_40.png', correct: 0, explanation: ''},
            
            // 2025ë…„ 1ì°¨ 1êµì‹œ - ë¯¼ë²• (41-80ë²ˆ)
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_41.png', correct: 1, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_42.png', correct: 2, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_43.png', correct: 0, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_44.png', correct: 4, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_45.png', correct: 3, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_46.png', correct: 0, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_47.png', correct: 1, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_48.png', correct: 2, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_49.png', correct: 3, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_50.png', correct: 2, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_51.png', correct: 3, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_52.png', correct: 1, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_53.png', correct: 0, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_54.png', correct: 4, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_55.png', correct: 3, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_56.png', correct: 3, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_57.png', correct: 2, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_58.png', correct: 0, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_59.png', correct: 1, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_60.png', correct: 4, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_61.png', correct: 3, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_62.png', correct: 3, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_63.png', correct: 1, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_64.png', correct: 4, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_65.png', correct: 0, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_66.png', correct: 2, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_67.png', correct: 4, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_68.png', correct: 3, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_69.png', correct: 0, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_70.png', correct: 3, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_71.png', correct: 4, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_72.png', correct: 2, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_73.png', correct: 1, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_74.png', correct: 1, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_75.png', correct: 4, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_76.png', correct: 1, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_77.png', correct: 2, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_78.png', correct: 4, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_79.png', correct: 0, explanation: ''},
            { year: 2025, subject: 'civil', image: 'questions/2025_1_1_80.png', correct: 2, explanation: ''},
            
            // 2025ë…„ 2ì°¨ 1êµì‹œ - ê³µì¸ì¤‘ê°œì‚¬ë²• (1-40ë²ˆ)
            { year: 2025, subject: 'broker', image: 'questions/2025_2_1_01.png', correct: 4, explanation: 'ê³µì¸ì¤‘ê°œì‚¬ë²• ì„¤ëª…' },
            { year: 2025, subject: 'broker', image: 'questions/2025_2_1_02.png', correct: 1, explanation: 'ê³µì¸ì¤‘ê°œì‚¬ ìê²©ì¦ ê´€ë ¨' },
            
            // 2025ë…„ 2ì°¨ 1êµì‹œ - ë¶€ë™ì‚°ê³µë²• (41-80ë²ˆ)
            { year: 2025, subject: 'public', image: 'questions/2025_2_1_41.png', correct: 2, explanation: 'êµ­í† ê³„íšë²• ê´€ë ¨' },
            
            // 2025ë…„ 2ì°¨ 2êµì‹œ - ë¶€ë™ì‚°ê³µì‹œë²• ë° ì„¸ë²• (1-40ë²ˆ)
            { year: 2025, subject: 'disclosure', image: 'questions/2025_2_2_01.png', correct: 0, explanation: 'ê³µê°„ì •ë³´ë²• ì„¤ëª…' },

            // 2024ë…„ 1ì°¨ 1êµì‹œ - ë¶€ë™ì‚°í•™ê°œë¡  (1-40ë²ˆ)
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_01.png', correct: 3, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_02.png', correct: 1, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_03.png', correct: 3, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_04.png', correct: 0, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_05.png', correct: 4, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_06.png', correct: 4, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_07.png', correct: 1, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_08.png', correct: 3, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_09.png', correct: 0, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_10.png', correct: 2, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_11.png', correct: 1, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_12.png', correct: 0, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_13.png', correct: 4, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_14.png', correct: 3, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_15.png', correct: 1, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_16.png', correct: 2, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_17.png', correct: 2, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_18.png', correct: 0, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_19.png', correct: 4, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_20.png', correct: 4, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_21.png', correct: 3, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_22.png', correct: 0, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_23.png', correct: 3, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_24.png', correct: 2, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_25.png', correct: 4, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_26.png', correct: 3, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_27.png', correct: 2, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_28.png', correct: 1, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_29.png', correct: 2, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_30.png', correct: 1, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_31.png', correct: 3, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_32.png', correct: 1, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_33.png', correct: 2, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_34.png', correct: 4, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_35.png', correct: 0, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_36.png', correct: 0, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_37.png', correct: 1, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_38.png', correct: 2, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_39.png', correct: 4, explanation: ''},
            { year: 2024, subject: 'intro', image: 'questions/2024_1_1_40.png', correct: 0, explanation: ''},
            
            // 2024ë…„ 1ì°¨ 1êµì‹œ - ë¯¼ë²• (41-80ë²ˆ)
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_41.png', correct: 2, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_42.png', correct: 4, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_43.png', correct: 2, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_44.png', correct: 2, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_45.png', correct: 1, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_46.png', correct: 4, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_47.png', correct: 4, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_48.png', correct: 0, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_49.png', correct: 0, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_50.png', correct: 1, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_51.png', correct: 3, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_52.png', correct: 2, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_53.png', correct: 4, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_54.png', correct: 1, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_55.png', correct: 3, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_56.png', correct: 4, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_57.png', correct: 0, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_58.png', correct: 1, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_59.png', correct: 1, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_60.png', correct: 0, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_61.png', correct: 3, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_62.png', correct: 3, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_63.png', correct: 1, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_64.png', correct: 2, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_65.png', correct: 4, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_66.png', correct: 4, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_67.png', correct: 0, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_68.png', correct: 4, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_69.png', correct: 0, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_70.png', correct: 4, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_71.png', correct: 0, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_72.png', correct: 3, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_73.png', correct: 2, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_74.png', correct: 2, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_75.png', correct: 2, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_76.png', correct: 0, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_77.png', correct: 0, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_78.png', correct: 0, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_79.png', correct: 1, explanation: ''},
            { year: 2024, subject: 'civil', image: 'questions/2024_1_1_80.png', correct: 3, explanation: ''},

            // 2023ë…„ 1ì°¨ 1êµì‹œ - ë¶€ë™ì‚°í•™ê°œë¡  (1-40ë²ˆ)
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_01.png', correct: 0, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_02.png', correct: 2, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_03.png', correct: 3, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_04.png', correct: 1, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_05.png', correct: 2, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_06.png', correct: 3, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_07.png', correct: 4, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_08.png', correct: 3, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_09.png', correct: 1, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_10.png', correct: 0, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_11.png', correct: 1, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_12.png', correct: 2, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_13.png', correct: 1, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_14.png', correct: 2, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_15.png', correct: 0, explanation: '1,2,3,4,5ë²ˆ ëª¨ë‘ ì •ë‹µ'},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_16.png', correct: 1, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_17.png', correct: 3, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_18.png', correct: 2, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_19.png', correct: 2, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_20.png', correct: 4, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_21.png', correct: 3, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_22.png', correct: 0, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_23.png', correct: 1, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_24.png', correct: 0, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_25.png', correct: 2, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_26.png', correct: 0, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_27.png', correct: 0, explanation: '1,2,3,4,5ë²ˆ ëª¨ë‘ ì •ë‹µ'},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_28.png', correct: 0, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_29.png', correct: 3, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_30.png', correct: 4, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_31.png', correct: 1, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_32.png', correct: 4, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_33.png', correct: 4, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_34.png', correct: 3, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_35.png', correct: 3, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_36.png', correct: 4, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_37.png', correct: 4, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_38.png', correct: 0, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_39.png', correct: 1, explanation: ''},
            { year: 2023, subject: 'intro', image: 'questions/2023_1_1_40.png', correct: 0, explanation: ''},
            
            // 2023ë…„ 1ì°¨ 1êµì‹œ - ë¯¼ë²• (41-80ë²ˆ)
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_41.png', correct: 0, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_42.png', correct: 4, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_43.png', correct: 0, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_44.png', correct: 3, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_45.png', correct: 2, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_46.png', correct: 0, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_47.png', correct: 3, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_48.png', correct: 1, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_49.png', correct: 0, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_50.png', correct: 4, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_51.png', correct: 1, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_52.png', correct: 2, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_53.png', correct: 2, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_54.png', correct: 0, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_55.png', correct: 1, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_56.png', correct: 3, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_57.png', correct: 2, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_58.png', correct: 1, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_59.png', correct: 4, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_60.png', correct: 3, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_61.png', correct: 4, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_62.png', correct: 3, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_63.png', correct: 1, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_64.png', correct: 3, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_65.png', correct: 0, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_66.png', correct: 2, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_67.png', correct: 2, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_68.png', correct: 4, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_69.png', correct: 1, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_70.png', correct: 3, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_71.png', correct: 4, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_72.png', correct: 3, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_73.png', correct: 2, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_74.png', correct: 4, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_75.png', correct: 4, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_76.png', correct: 2, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_77.png', correct: 0, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_78.png', correct: 1, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_79.png', correct: 0, explanation: ''},
            { year: 2023, subject: 'civil', image: 'questions/2023_1_1_80.png', correct: 1, explanation: ''},
        ];

        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let questionAnswered = [];
        let startTime;
        let timerInterval;

        function startQuiz() {
            const selectedYear = document.getElementById('yearSelect').value;
            const selectedSubject = document.getElementById('subjectSelect').value;
            const questionCount = parseInt(document.getElementById('questionCount').value) || 40;

            let filteredQuestions = [...questionDatabase];
            
            if (selectedYear !== 'all' && selectedYear !== 'random') {
                filteredQuestions = filteredQuestions.filter(q => q.year == selectedYear);
            }

            if (selectedSubject !== 'all') {
                filteredQuestions = filteredQuestions.filter(q => q.subject === selectedSubject);
            }

            if (selectedYear === 'random') {
                filteredQuestions.sort(() => Math.random() - 0.5);
                filteredQuestions = filteredQuestions.slice(0, questionCount);
            } else {
                filteredQuestions.sort(() => Math.random() - 0.5);
            }

            if (filteredQuestions.length === 0) {
                alert('ì„ íƒí•œ ì¡°ê±´ì— í•´ë‹¹í•˜ëŠ” ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }

            currentQuestions = filteredQuestions;
            currentQuestionIndex = 0;
            userAnswers = new Array(currentQuestions.length).fill(null);
            questionAnswered = new Array(currentQuestions.length).fill(false);
            startTime = Date.now();

            if (selectedYear === 'random') {
                document.getElementById('headerSubtitle').textContent = `ëœë¤ ëª¨ë“œ (${currentQuestions.length}ë¬¸ì œ)`;
            } else if (selectedYear === 'all') {
                document.getElementById('headerSubtitle').textContent = '2020-2025ë…„ í†µí•©';
            } else {
                document.getElementById('headerSubtitle').textContent = `${selectedYear}ë…„ ê¸°ì¶œ`;
            }

            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('questionScreen').style.display = 'block';
            
            startTimer();
            displayQuestion();
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                const elapsed = Math.floor((Date.now() - startTime) / 1000);
                const minutes = Math.floor(elapsed / 60);
                const seconds = elapsed % 60;
                document.getElementById('timer').textContent = 
                    `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
            }, 1000);
        }

        function displayQuestion() {
            const question = currentQuestions[currentQuestionIndex];
            const isAnswered = questionAnswered[currentQuestionIndex];
            
            document.getElementById('questionNumber').textContent = 
                `ë¬¸ì œ ${currentQuestionIndex + 1}/${currentQuestions.length}`;
            
            document.getElementById('yearBadge').textContent = `${question.year}ë…„`;
            
            // ì´ë¯¸ì§€ ë¡œë“œ
            const imgContainer = document.getElementById('questionImage').parentElement;
            const imgElement = document.getElementById('questionImage');
            
            // ê¸°ì¡´ ì—ëŸ¬ ë©”ì‹œì§€ ì œê±° (ìˆë‹¤ë©´)
            const existingError = imgContainer.querySelector('.image-error');
            if (existingError) {
                existingError.remove();
            }
            
            // ì´ë¯¸ì§€ í‘œì‹œ ë° ì—ëŸ¬ í•¸ë“¤ëŸ¬ ì´ˆê¸°í™”
            imgElement.style.display = 'block';
            imgElement.src = question.image;
            imgElement.onerror = function() {
                // ì´ë¯¸ì§€ ìˆ¨ê¸°ê³  ì—ëŸ¬ ë©”ì‹œì§€ ì¶”ê°€
                imgElement.style.display = 'none';
                const errorDiv = document.createElement('div');
                errorDiv.className = 'image-error';
                errorDiv.innerHTML = `
                    <h3>âš ï¸ ì´ë¯¸ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</h3>
                    <p>íŒŒì¼: ${question.image}</p>
                    <p style="font-size: 12px; margin-top: 10px;">ì´ë¯¸ì§€ íŒŒì¼ì„ questions/ í´ë”ì— ì¶”ê°€í•´ì£¼ì„¸ìš”.</p>
                `;
                imgContainer.appendChild(errorDiv);
            };
            
            // ë²„íŠ¼ ìƒíƒœ ì´ˆê¸°í™”
            const buttons = document.querySelectorAll('.number-btn');
            buttons.forEach((btn, index) => {
                btn.className = 'number-btn';
                
                if (isAnswered) {
                    btn.classList.add('disabled');
                    if (index === question.correct) {
                        btn.classList.add('correct');
                    } else if (index === userAnswers[currentQuestionIndex]) {
                        btn.classList.add('wrong');
                    }
                } else if (userAnswers[currentQuestionIndex] === index) {
                    btn.classList.add('selected');
                }
            });

            // í•´ì„¤ í‘œì‹œ
            const explanationBox = document.getElementById('explanationBox');
            const explanationText = document.getElementById('explanationText');
            
            if (isAnswered) {
                const cachedExplanation = explanationCache[question.image] || question.explanation;
                explanationText.textContent = cachedExplanation;
                explanationBox.classList.add('show');
            } else {
                explanationBox.classList.remove('show');
            }

            // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
            const progress = ((currentQuestionIndex + 1) / currentQuestions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';

            // ë²„íŠ¼ ìƒíƒœ
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            document.getElementById('nextBtn').textContent = 
                currentQuestionIndex === currentQuestions.length - 1 ? 'ê²°ê³¼ ë³´ê¸° âœ“' : 'ë‹¤ìŒ â–¶';
        }

        // ====== AI í•´ì„¤ ìƒì„± (ë©€í‹° ëª¨ë¸ í´ë°± + OCR) ======
        const AI_KEYS = {
            gemini: 'AIzaSyCaA5PAyY5v2KfM_O8T1VkbM3lriJIOAWA',
            groq: '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',
            openrouter: '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'
        };

        // í•´ì„¤ ìºì‹œ (ì„¸ì…˜ ì¤‘ ì¤‘ë³µ í˜¸ì¶œ ë°©ì§€)
        const explanationCache = {};

        // ì´ë¯¸ì§€ â†’ base64 ë³€í™˜
        async function imageToBase64(imgElement) {
            return new Promise((resolve) => {
                const canvas = document.createElement('canvas');
                canvas.width = imgElement.naturalWidth;
                canvas.height = imgElement.naturalHeight;
                const ctx = canvas.getContext('2d');
                ctx.drawImage(imgElement, 0, 0);
                const dataUrl = canvas.toDataURL('image/jpeg', 0.7);
                resolve(dataUrl.split(',')[1]);
            });
        }

        // ì´ë¯¸ì§€ â†’ OCR í…ìŠ¤íŠ¸ ì¶”ì¶œ (Gemini Visionìœ¼ë¡œ)
        async function extractTextFromImage(base64Data) {
            const url = `https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash:generateContent?key=${AI_KEYS.gemini}`;
            const res = await fetch(url, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    contents: [{
                        parts: [
                            { inlineData: { mimeType: 'image/jpeg', data: base64Data } },
                            { text: 'ì´ ì‹œí—˜ ë¬¸ì œ ì´ë¯¸ì§€ì˜ í…ìŠ¤íŠ¸ë¥¼ ê·¸ëŒ€ë¡œ ì¶”ì¶œí•´ì¤˜. ë¬¸ì œ ë²ˆí˜¸, ë³´ê¸° ë²ˆí˜¸, ì„ íƒì§€ ëª¨ë‘ í¬í•¨. ì¶”ê°€ ì„¤ëª… ì—†ì´ í…ìŠ¤íŠ¸ë§Œ.' }
                        ]
                    }]
                })
            });
            if (!res.ok) throw new Error('OCR ì‹¤íŒ¨');
            const data = await res.json();
            return data.candidates[0].content.parts[0].text.trim();
        }

        // í•´ì„¤ í”„ë¡¬í”„íŠ¸ ìƒì„±
        function buildExplanationPrompt(questionText, correctNum) {
            return `ë‹¤ìŒì€ ê³µì¸ì¤‘ê°œì‚¬ ì‹œí—˜ ë¬¸ì œì´ê³ , ì •ë‹µì€ ${correctNum}ë²ˆì´ì•¼.

${questionText}

ë‹¤ìŒ ê·œì¹™ëŒ€ë¡œ í•´ì„¤ì„ ì‘ì„±í•´:
- ì™œ ì •ë‹µì´ ê·¸ê²ƒì¸ì§€, ì£¼ìš” ì˜¤ë‹µì€ ì™œ í‹€ë¦°ì§€ ì„¤ëª…
- ë¬¸ì œ ë‚´ìš©ì„ ê·¸ëŒ€ë¡œ ë°˜ë³µí•˜ì§€ ë§ê¸°
- ëª¨ë“  ë‹¨ì–´ëŠ” í•œêµ­ì–´ë¡œë§Œ ì‘ì„±
- ë°˜ë§ë¡œ ì§§ê³  ê°„ê²°í•˜ê²Œ
- í•´ì„¤ì€ ë¬´ì¡°ê±´ ì‹ ë¢°ë„ ë†’ì€ ë‚´ìš© ê¸°ë°˜ìœ¼ë¡œë§Œ

í•´ì„¤:`;
        }

        // Gemini í˜¸ì¶œ
        async function callGemini(prompt) {
            const url = `https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash:generateContent?key=${AI_KEYS.gemini}`;
            const res = await fetch(url, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    contents: [{ parts: [{ text: prompt }] }]
                })
            });
            if (!res.ok) throw new Error(`Gemini ${res.status}`);
            const data = await res.json();
            return data.candidates[0].content.parts[0].text.trim();
        }

        // Groq í˜¸ì¶œ
        async function callGroq(prompt) {
            const res = await fetch('https://api.groq.com/openai/v1/chat/completions', {
                method: 'POST',
                headers: {
                    'Authorization': `Bearer ${AI_KEYS.groq}`,
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    model: 'llama-3.1-8b-instant',
                    messages: [{ role: 'user', content: prompt }],
                    max_tokens: 300
                })
            });
            if (!res.ok) throw new Error(`Groq ${res.status}`);
            const data = await res.json();
            return data.choices[0].message.content.trim();
        }

        // OpenRouter í˜¸ì¶œ
        async function callOpenRouter(prompt) {
            const res = await fetch('https://openrouter.ai/api/v1/chat/completions', {
                method: 'POST',
                headers: {
                    'Authorization': `Bearer ${AI_KEYS.openrouter}`,
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    model: 'mistralai/mixtral-8x7b-instruct',
                    messages: [{ role: 'user', content: prompt }],
                    max_tokens: 300
                })
            });
            if (!res.ok) throw new Error(`OpenRouter ${res.status}`);
            const data = await res.json();
            return data.choices[0].message.content.trim();
        }

        // ë©€í‹° ëª¨ë¸ í´ë°±ìœ¼ë¡œ í•´ì„¤ ìƒì„±
        async function generateExplanation(prompt) {
            const providers = [
                { name: 'Gemini', fn: callGemini },
                { name: 'Groq', fn: callGroq },
                { name: 'OpenRouter', fn: callOpenRouter }
            ];

            for (const provider of providers) {
                try {
                    console.log(`í•´ì„¤ ìƒì„±: ${provider.name} ì‹œë„...`);
                    const result = await provider.fn(prompt);
                    if (result && result.length > 10) {
                        console.log(`í•´ì„¤ ìƒì„±: ${provider.name} ì„±ê³µ`);
                        return result;
                    }
                } catch (e) {
                    console.warn(`${provider.name} ì‹¤íŒ¨:`, e.message);
                }
            }
            return null;
        }

        // ì „ì²´ í•´ì„¤ íŒŒì´í”„ë¼ì¸: ì´ë¯¸ì§€ â†’ OCR â†’ í•´ì„¤ ìƒì„±
        async function getAIExplanation(question) {
            const cacheKey = question.image;

            // ìºì‹œ í™•ì¸
            if (explanationCache[cacheKey]) {
                return explanationCache[cacheKey];
            }

            // ì´ë¯¸ì§€ ë¡œë“œ & base64 ë³€í™˜
            const img = document.getElementById('questionImage');
            if (!img || !img.complete || !img.naturalWidth) {
                throw new Error('ì´ë¯¸ì§€ ë¡œë“œ ì•ˆë¨');
            }
            const base64 = await imageToBase64(img);

            // OCRë¡œ í…ìŠ¤íŠ¸ ì¶”ì¶œ
            const questionText = await extractTextFromImage(base64);
            if (!questionText || questionText.length < 20) {
                throw new Error('OCR í…ìŠ¤íŠ¸ ë¶€ì¡±');
            }

            // í•´ì„¤ í”„ë¡¬í”„íŠ¸ ìƒì„± & í˜¸ì¶œ
            const prompt = buildExplanationPrompt(questionText, question.correct + 1);
            const explanation = await generateExplanation(prompt);

            if (explanation) {
                // ìºì‹œ ì €ì¥
                explanationCache[cacheKey] = explanation;
                // question ê°ì²´ì—ë„ ì €ì¥ (ê²°ê³¼ í™”ë©´ ì˜¤ë‹µ í•´ì„¤ìš©)
                question.explanation = explanation;
                return explanation;
            }

            throw new Error('ëª¨ë“  ëª¨ë¸ ì‹¤íŒ¨');
        }

        function selectAnswer(answerIndex) {
            if (questionAnswered[currentQuestionIndex]) {
                return;
            }

            const question = currentQuestions[currentQuestionIndex];
            userAnswers[currentQuestionIndex] = answerIndex;
            questionAnswered[currentQuestionIndex] = true;

            // ì¦‰ì‹œ ì •ë‹µ/ì˜¤ë‹µ í‘œì‹œ
            const buttons = document.querySelectorAll('.number-btn');
            buttons.forEach((btn, index) => {
                btn.classList.add('disabled');
                if (index === question.correct) {
                    btn.classList.add('correct');
                } else if (index === answerIndex) {
                    btn.classList.add('wrong');
                }
            });

            // í•´ì„¤ í‘œì‹œ
            const explanationBox = document.getElementById('explanationBox');
            const explanationText = document.getElementById('explanationText');
            explanationBox.classList.add('show');

            // ê¸°ì¡´ í•´ì„¤ì´ ìˆìœ¼ë©´ ë°”ë¡œ í‘œì‹œ, ì—†ìœ¼ë©´ AI ìƒì„±
            if (question.explanation && question.explanation.trim() !== '') {
                explanationText.textContent = question.explanation;
            } else {
                // ë¡œë”© í‘œì‹œ
                explanationText.innerHTML = '<div class="explanation-loading"><div class="spinner"></div>AI í•´ì„¤ ìƒì„± ì¤‘...</div>';

                getAIExplanation(question).then((text) => {
                    explanationText.textContent = text;
                }).catch((err) => {
                    console.error('AI í•´ì„¤ ì‹¤íŒ¨:', err);
                    explanationText.innerHTML = '<span class="explanation-error">í•´ì„¤ì„ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.</span>';
                });
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (currentQuestionIndex < currentQuestions.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                showResults();
            }
        }

        function goHome() {
            if (confirm('ì •ë§ í™ˆìœ¼ë¡œ ëŒì•„ê°€ì‹œê² ìŠµë‹ˆê¹Œ?\ní˜„ì¬ê¹Œì§€ì˜ ì§„í–‰ ìƒí™©ì€ ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.')) {
                clearInterval(timerInterval);
                resetQuiz();
            }
        }

        function finishEarly() {
            if (confirm('ì‹œí—˜ì„ ì¢…ë£Œí•˜ê³  ê²°ê³¼ë¥¼ í™•ì¸í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\në‹µí•˜ì§€ ì•Šì€ ë¬¸ì œëŠ” ì˜¤ë‹µìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤.')) {
                for (let i = 0; i < currentQuestions.length; i++) {
                    if (userAnswers[i] === null) {
                        userAnswers[i] = -1;
                    }
                }
                showResults();
            }
        }

        function showResults() {
            clearInterval(timerInterval);

            let correctCount = 0;
            let wrongQuestions = [];

            userAnswers.forEach((answer, index) => {
                if (answer === currentQuestions[index].correct) {
                    correctCount++;
                } else {
                    wrongQuestions.push({
                        questionNum: index + 1,
                        question: currentQuestions[index],
                        userAnswer: answer
                    });
                }
            });

            const score = Math.round((correctCount / currentQuestions.length) * 100);

            document.getElementById('questionScreen').style.display = 'none';
            document.getElementById('resultScreen').style.display = 'block';

            document.getElementById('finalScore').textContent = score + 'ì ';
            document.getElementById('totalQuestions').textContent = currentQuestions.length;
            document.getElementById('correctAnswers').textContent = correctCount;
            document.getElementById('wrongAnswers').textContent = wrongQuestions.length;

            const wrongAnswersList = document.getElementById('wrongAnswersList');
            wrongAnswersList.innerHTML = '';

            if (wrongQuestions.length === 0) {
                wrongAnswersList.innerHTML = '<p style="text-align: center; color: #4caf50; font-size: 18px; padding: 40px;">ğŸ‰ ëª¨ë“  ë¬¸ì œë¥¼ ë§í˜”ìŠµë‹ˆë‹¤! ì™„ë²½í•©ë‹ˆë‹¤!</p>';
            } else {
                wrongQuestions.forEach(wrong => {
                    const wrongDiv = document.createElement('div');
                    wrongDiv.className = 'wrong-answer-item';
                    
                    const userAnswerText = wrong.userAnswer !== null && wrong.userAnswer !== -1
                        ? `${wrong.userAnswer + 1}ë²ˆ` 
                        : '(ë‹µì•ˆ ë¯¸ì„ íƒ)';
                    
                    wrongDiv.innerHTML = `
                        <div class="wrong-answer-header">
                            [${wrong.question.year}ë…„] ë¬¸ì œ ${wrong.questionNum}
                        </div>
                        <div style="margin-top: 10px;">
                            <div style="color: #f44336; margin-bottom: 5px;">
                                âŒ ì„ íƒí•œ ë‹µ: ${userAnswerText}
                            </div>
                            <div style="color: #4caf50; margin-bottom: 5px;">
                                âœ… ì •ë‹µ: ${wrong.question.correct + 1}ë²ˆ
                            </div>
                        </div>
                        <div class="wrong-answer-explanation">
                            <div class="explanation-label">ğŸ’¡ í•´ì„¤:</div>
                            ${explanationCache[wrong.question.image] || wrong.question.explanation || 'í•´ì„¤ ì—†ìŒ'}
                        </div>
                    `;
                    wrongAnswersList.appendChild(wrongDiv);
                });
            }
        }

        function resetQuiz() {
            currentQuestionIndex = 0;
            userAnswers = [];
            questionAnswered = [];
            document.getElementById('questionScreen').style.display = 'none';
            document.getElementById('resultScreen').style.display = 'none';
            document.getElementById('startScreen').style.display = 'block';
            document.getElementById('progressFill').style.width = '0%';
            document.getElementById('headerSubtitle').textContent = '2020-2025ë…„ ê¸°ì¶œë¬¸ì œ';
        }

        function restartQuiz() {
            resetQuiz();
        }
    </script>
</body>
</html>
